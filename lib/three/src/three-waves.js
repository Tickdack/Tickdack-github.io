$(function(){var r=100,a=50,d=50;var w;var s,p,l;var v,c,t=0;var o=0,i=0;var n=window.innerWidth/2;var e=window.innerHeight/2;h();E();function h(){w=document.createElement("div");w.style.position="fixed";w.style.top="0px";w.style.left="0px";w.style.zIndex="-1";w.style.opacity="0.5";document.body.appendChild(w);s=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4);s.position.z=1e3;p=new THREE.Scene;v=new Array;var n=Math.PI*2;var i=new THREE.SpriteCanvasMaterial({color:10263708,program:function(i){i.beginPath();i.arc(0,0,.5,0,n,true);i.fill()}});var e=0;for(var t=0;t<a;t++){for(var o=0;o<d;o++){c=v[e++]=new THREE.Sprite(i);c.position.x=t*r-a*r/2;c.position.z=o*r-d*r/2;p.add(c)}}l=new THREE.CanvasRenderer({alpha:true});l.setPixelRatio(window.devicePixelRatio);l.setSize(window.innerWidth,window.innerHeight);w.appendChild(l.domElement);document.addEventListener("mousemove",u,false);window.addEventListener("resize",f,false)}function f(){n=window.innerWidth/2;e=window.innerHeight/2;s.aspect=window.innerWidth/window.innerHeight;s.updateProjectionMatrix();l.setSize(window.innerWidth,window.innerHeight)}function u(i){o=i.clientX-n}function E(){requestAnimationFrame(E);x()}function x(){s.position.x+=(o-s.position.x)*.05;s.position.y=362.05;s.lookAt({x:p.position.x,y:window.innerHeight/3,z:p.position.z});var i=0;for(var n=0;n<a;n++){for(var e=0;e<d;e++){c=v[i++];c.position.y=Math.sin((n+t)*.3)*50+Math.sin((e+t)*.5)*50;c.scale.x=c.scale.y=(Math.sin((n+t)*.3)+1)*4+(Math.sin((e+t)*.5)+1)*4}}l.render(p,s);t+=.1}});